@using BtcTransmuter.Extension.Lightning.ExternalServices.NBXplorerWallet
@using NBitcoin

@{
    var service = new NBXplorerWalletService(Model, null, null, null , null);
    var data = service.GetData();
    Money balance = null;
    try
    {

        var client = await service.ConstructClient();
        balance = await client.GetBalance();
    }
    catch (Exception e)
    {
    }
}
<dl class="dl-horizontal">
    <dt>
        Source
    </dt>
    <dd>
        @data.Address@data.DerivationStrategy
    </dd>
    <dt>
        Crypto
    </dt>
    <dd>
        @data.CryptoCode
    </dd>
        <dt>
            Balance
        </dt>
        <dd>
            @(balance?.ToString()?? "Cannot retrieve balance")
        </dd>
</dl>